(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[776],{8906:function(e,n,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/market",function(){return r(9779)}])},9779:function(e,n,r){"use strict";r.r(n);var t=r(4051),s=r.n(t),u=r(5893),a=r(7294),o=r(320),i=r(9742),c=r(9532);function d(e,n,r,t,s,u,a){try{var o=e[u](a),i=o.value}catch(c){return void r(c)}o.done?n(i):Promise.resolve(i).then(t,s)}function l(e){return function(){var n=this,r=arguments;return new Promise((function(t,s){var u=e.apply(n,r);function a(e){d(u,t,s,a,o,"next",e)}function o(e){d(u,t,s,a,o,"throw",e)}a(void 0)}))}}n.default=function(e){var n=(0,i.h)(),r=n.onBuy,t=n.cancelSell,d=n.redeemFromToken,p=n.getAllOpenTrades,h=(0,o.K)().accountAddress,v=(0,a.useState)([]),x=v[0],f=v[1],m=(0,c.d)().approve,b=(0,a.useState)(0),j=b[0],g=b[1],w=(0,a.useState)(0),k=w[0],y=w[1],N=(0,a.useState)(""),_=(N[0],N[1]);function C(){return(C=l(s().mark((function e(){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,r(j,k);case 2:n=e.sent,_(n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function I(){return(I=l(s().mark((function e(){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t(j,k);case 2:n=e.sent,_(n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function T(){return(T=l(s().mark((function e(){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,d(j,k);case 2:n=e.sent,_(n);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}(0,a.useEffect)((function(){(function(){var e=l(s().mark((function e(){var n;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p();case 2:n=e.sent,f(n);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[p]);var E=(0,a.useMemo)((function(){return 0!==j&&!(x.findIndex((function(e){return e.seller===h}))<0)}),[h,x,j]);return(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"text-[40px]",children:"Market"}),(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{children:"Open Trade"}),(0,u.jsx)("hr",{}),x.map((function(e,n){return(0,u.jsxs)("div",{className:" cursor-pointer",onClick:function(){return g((n=e).sellId),void y(n.amount);var n},children:[(0,u.jsxs)("div",{children:["ID: ",e.sellId]}),(0,u.jsxs)("div",{children:["Future Token Id: ",e.futureTokenId]}),(0,u.jsxs)("div",{children:["seller: ",e.seller===h?"YOU":e.seller]}),(0,u.jsxs)("div",{children:["amount: ",e.amount]}),(0,u.jsxs)("div",{children:["status: ",e.status]}),(0,u.jsx)("hr",{})]},n)})),(0,u.jsx)("button",{className:"px-4 py-1 bg-orange-300 rounded-lg border-2 hover:bg-orange-400 duration-500 text-white",onClick:m,children:"Approve token"})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("div",{className:"text-[20px]",children:"Buy"}),(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{htmlFor:"sellId",children:"ID"}),(0,u.jsx)("input",{type:"number",className:" px-4 rounded-md border-2",value:j,onChange:function(e){return g(Number.parseInt(e.target.value))}})]}),(0,u.jsxs)("div",{children:[(0,u.jsx)("label",{htmlFor:"amount",children:"Amount"}),(0,u.jsx)("input",{type:"number",className:" px-4 rounded-md border-2",value:k,onChange:function(e){return y(Number.parseInt(e.target.value))}})]}),E?(0,u.jsx)("button",{className:" bg-red-300 hover:bg-red-400 hover:text-white duration-500 px-4 py-2 border-2 rounded-lg",onClick:function(){return I.apply(this,arguments)},children:"Cancel"}):(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("button",{className:" bg-red-300 hover:bg-red-400 hover:text-white duration-500 px-4 py-2 border-2 rounded-lg",onClick:function(){return C.apply(this,arguments)},children:"Buy"}),(0,u.jsx)("button",{className:" bg-purple-300 hover:bg-purple-400 hover:text-white duration-500 px-4 py-2 border-2 rounded-lg",onClick:function(){return T.apply(this,arguments)},children:"Redeem using SuperX"})]})]})]})}}},function(e){e.O(0,[561,742,774,888,179],(function(){return n=8906,e(e.s=n);var n}));var n=e.O();_N_E=n}]);