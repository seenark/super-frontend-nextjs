"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[561],{9416:function(e,t,r){r.d(t,{D:function(){return f}});var s=r(6881),n=r(9934),o=r(6731),i=r(3477),c=r(1581),a=r(4216);let l=null;try{if(l=WebSocket,null==l)throw new Error("inject please")}catch(_){const e=new c.Yd(a.i);l=function(){e.throwError("WebSockets not supported in this environment",c.Yd.errors.UNSUPPORTED_OPERATION,{operation:"new WebSocket()"})}}var u=function(e,t,r,s){return new(r||(r=Promise))((function(n,o){function i(e){try{a(s.next(e))}catch(t){o(t)}}function c(e){try{a(s.throw(e))}catch(t){o(t)}}function a(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,c)}a((s=s.apply(e,t||[])).next())}))};const h=new c.Yd(a.i);let d=1;class p extends i.r{constructor(e,t){"any"===t&&h.throwError("WebSocketProvider does not support 'any' network yet",c.Yd.errors.UNSUPPORTED_OPERATION,{operation:"network:any"}),super(e,t),this._pollingInterval=-1,this._wsReady=!1,(0,s.zG)(this,"_websocket",new l(this.connection.url)),(0,s.zG)(this,"_requests",{}),(0,s.zG)(this,"_subs",{}),(0,s.zG)(this,"_subIds",{}),(0,s.zG)(this,"_detectNetwork",super.detectNetwork()),this._websocket.onopen=()=>{this._wsReady=!0,Object.keys(this._requests).forEach((e=>{this._websocket.send(this._requests[e].payload)}))},this._websocket.onmessage=e=>{const t=e.data,r=JSON.parse(t);if(null!=r.id){const e=String(r.id),n=this._requests[e];if(delete this._requests[e],void 0!==r.result)n.callback(null,r.result),this.emit("debug",{action:"response",request:JSON.parse(n.payload),response:r.result,provider:this});else{let e=null;r.error?(e=new Error(r.error.message||"unknown error"),(0,s.zG)(e,"code",r.error.code||null),(0,s.zG)(e,"response",t)):e=new Error("unknown error"),n.callback(e,void 0),this.emit("debug",{action:"response",error:e,request:JSON.parse(n.payload),provider:this})}}else if("eth_subscription"===r.method){const e=this._subs[r.params.subscription];e&&e.processFunc(r.params.result)}else console.warn("this should not happen")};const r=setInterval((()=>{this.emit("poll")}),1e3);r.unref&&r.unref()}detectNetwork(){return this._detectNetwork}get pollingInterval(){return 0}resetEventsBlock(e){h.throwError("cannot reset events block on WebSocketProvider",c.Yd.errors.UNSUPPORTED_OPERATION,{operation:"resetEventBlock"})}set pollingInterval(e){h.throwError("cannot set polling interval on WebSocketProvider",c.Yd.errors.UNSUPPORTED_OPERATION,{operation:"setPollingInterval"})}poll(){return u(this,void 0,void 0,(function*(){return null}))}set polling(e){e&&h.throwError("cannot set polling on WebSocketProvider",c.Yd.errors.UNSUPPORTED_OPERATION,{operation:"setPolling"})}send(e,t){const r=d++;return new Promise(((s,n)=>{const o=JSON.stringify({method:e,params:t,id:r,jsonrpc:"2.0"});this.emit("debug",{action:"request",request:JSON.parse(o),provider:this}),this._requests[String(r)]={callback:function(e,t){return e?n(e):s(t)},payload:o},this._wsReady&&this._websocket.send(o)}))}static defaultUrl(){return"ws://localhost:8546"}_subscribe(e,t,r){return u(this,void 0,void 0,(function*(){let s=this._subIds[e];null==s&&(s=Promise.all(t).then((e=>this.send("eth_subscribe",e))),this._subIds[e]=s);const n=yield s;this._subs[n]={tag:e,processFunc:r}}))}_startEvent(e){switch(e.type){case"block":this._subscribe("block",["newHeads"],(e=>{const t=o.O$.from(e.number).toNumber();this._emitted.block=t,this.emit("block",t)}));break;case"pending":this._subscribe("pending",["newPendingTransactions"],(e=>{this.emit("pending",e)}));break;case"filter":this._subscribe(e.tag,["logs",this._getFilter(e.filter)],(t=>{null==t.removed&&(t.removed=!1),this.emit(e.filter,this.formatter.filterLog(t))}));break;case"tx":{const t=e=>{const t=e.hash;this.getTransactionReceipt(t).then((e=>{e&&this.emit(t,e)}))};t(e),this._subscribe("tx",["newHeads"],(e=>{this._events.filter((e=>"tx"===e.type)).forEach(t)}));break}case"debug":case"poll":case"willPoll":case"didPoll":case"error":break;default:console.log("unhandled:",e)}}_stopEvent(e){let t=e.tag;if("tx"===e.type){if(this._events.filter((e=>"tx"===e.type)).length)return;t="tx"}else if(this.listenerCount(e.event))return;const r=this._subIds[t];r&&(delete this._subIds[t],r.then((e=>{this._subs[e]&&(delete this._subs[e],this.send("eth_unsubscribe",[e]))})))}destroy(){return u(this,void 0,void 0,(function*(){this._websocket.readyState===l.CONNECTING&&(yield new Promise((e=>{this._websocket.onopen=function(){e(!0)},this._websocket.onerror=function(){e(!1)}}))),this._websocket.close(1e3)}))}}var b=function(e,t,r,s){return new(r||(r=Promise))((function(n,o){function i(e){try{a(s.next(e))}catch(t){o(t)}}function c(e){try{a(s.throw(e))}catch(t){o(t)}}function a(e){var t;e.done?n(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(i,c)}a((s=s.apply(e,t||[])).next())}))};const w=new c.Yd(a.i);class k extends i.r{detectNetwork(){const e=Object.create(null,{detectNetwork:{get:()=>super.detectNetwork}});return b(this,void 0,void 0,(function*(){let t=this.network;return null==t&&(t=yield e.detectNetwork.call(this),t||w.throwError("no network detected",c.Yd.errors.UNKNOWN_ERROR,{}),null==this._network&&((0,s.zG)(this,"_network",t),this.emit("network",t,null))),t}))}}class m extends k{constructor(e,t){w.checkAbstract(new.target,m),e=(0,s.tu)(new.target,"getNetwork")(e),t=(0,s.tu)(new.target,"getApiKey")(t);super((0,s.tu)(new.target,"getUrl")(e,t),e),"string"===typeof t?(0,s.zG)(this,"apiKey",t):null!=t&&Object.keys(t).forEach((e=>{(0,s.zG)(this,e,t[e])}))}_startPending(){w.warn("WARNING: API provider does not support pending filters")}isCommunityResource(){return!1}getSigner(e){return w.throwError("API provider does not support signing",c.Yd.errors.UNSUPPORTED_OPERATION,{operation:"getSigner"})}listAccounts(){return Promise.resolve([])}static getApiKey(e){return e}static getUrl(e,t){return w.throwError("not implemented; sub-classes must override getUrl",c.Yd.errors.NOT_IMPLEMENTED,{operation:"getUrl"})}}const g=new c.Yd(a.i),v="_gg7wSSi0KMBsdKnGVfHDueq6xMB9EkC";class y extends p{constructor(e,t){const r=new f(e,t);super(r.connection.url.replace(/^http/i,"ws").replace(".alchemyapi.",".ws.alchemyapi."),r.network),(0,s.zG)(this,"apiKey",r.apiKey)}isCommunityResource(){return this.apiKey===v}}class f extends m{static getWebSocketProvider(e,t){return new y(e,t)}static getApiKey(e){return null==e?v:(e&&"string"!==typeof e&&g.throwArgumentError("invalid apiKey","apiKey",e),e)}static getUrl(e,t){let r=null;switch(e.name){case"homestead":r="eth-mainnet.alchemyapi.io/v2/";break;case"ropsten":r="eth-ropsten.alchemyapi.io/v2/";break;case"rinkeby":r="eth-rinkeby.alchemyapi.io/v2/";break;case"goerli":r="eth-goerli.alchemyapi.io/v2/";break;case"kovan":r="eth-kovan.alchemyapi.io/v2/";break;case"matic":r="polygon-mainnet.g.alchemy.com/v2/";break;case"maticmum":r="polygon-mumbai.g.alchemy.com/v2/";break;case"arbitrum":r="arb-mainnet.g.alchemy.com/v2/";break;case"arbitrum-rinkeby":r="arb-rinkeby.g.alchemy.com/v2/";break;case"optimism":r="opt-mainnet.g.alchemy.com/v2/";break;case"optimism-kovan":r="opt-kovan.g.alchemy.com/v2/";break;default:g.throwArgumentError("unsupported network","network",arguments[0])}return{allowGzip:!0,url:"https://"+r+t,throttleCallback:(e,r)=>(t===v&&(0,n.vh)(),Promise.resolve(!0))}}isCommunityResource(){return this.apiKey===v}}},6237:function(e,t,r){r.d(t,{s:function(){return i},F:function(){return c}});var s=r(7218),n=r(6441),o=r(9251);function i(e){const t=(0,o.Y0)(e);if(t.length>31)throw new Error("bytes32 string must be less than 32 bytes");return(0,n.Dv)((0,n.zo)([t,s.R]).slice(0,32))}function c(e){const t=(0,n.lE)(e);if(32!==t.length)throw new Error("invalid bytes32 - not 32 bytes long");if(0!==t[31])throw new Error("invalid bytes32 string - no null terminator");let r=31;for(;0===t[r-1];)r--;return(0,o.ZN)(t.slice(0,r))}}}]);